{% extends 'ranking/base_rank.html' %}

{% load static %}

{% block content %}
<div class="wrap">
    <div id="main" class="col-md-12" role="main" itemscope="itemscope" itemtype="http://schema.org/Blog">
        <div class="main-inner">

          <header class="detail-header">
            <h1>{{ rank.title }}</h1>
          </header>

          <div id="toc_container" class="no_bullets">
            <ul class="toc_list">
                <p class="toc_title">目次</p>
                {% for camera in cameras %}
                    <li class="toc_item"><a href="#i{{ forloop.counter }}">{{ rank_ten_position }}{{ forloop.counter }}位 {{ camera.name }}</a></li>
                {% endfor %}
                <li class="toc_item"><a href="#i11">Amazonや楽天の人気ランキングを見る</a></li>
                <li class="toc_item"><a href="#i12">ランキングをカスタマイズする</a></li>
            </ul>
          </div>

          <h3>ランキング算出基準を変更する</h3>
        　<div class="ranking-switch">
              <div class="row">
                  <div style="margin: auto;">
                      <a href="{% url "ranking:detail" rank.id "review" %}" class="rank-switch">
                          <button class="btn">レビュー数順</button>
                      </a>
                      <a href="{% url "ranking:detail" rank.id "hashtag" %}" class="rank-switch">
                          <button class="btn">インスタハッシュタグ数順</button>
                      </a>
                      <a href="{% url "ranking:detail" rank.id "hashtag" %}" class="rank-switch">
                          <button class="btn">インスタハッシュタグ上昇率順</button>
                      </a>
                  </div>
              </div>
          </div>

          <section class="detail-content" itemprop="text">
            {% for camera in cameras %}
                <a href="{% url "camera:detail" camera.id %}">
                    <h2 id="i{{ forloop.counter }}">{{ forloop.counter }}位 {{ camera.name }}</h2>
                </a>
                <div class="camera-info">
                    <div class="row">
                        <div class="col-sm-6" class="camera-img-container">
                            <div class="camera-info-left">
                                <a href="{{ camera.amazon_link }}" target="_blank">
                                    <img src="{{ camera.image_url }}">
                                </a>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="camera-info-right">
                                {% if sort_type == "review" %}
                                    <li>レビュー数: {{ camera.review_count }}</li>
                                {% else %}
                                    <li>インスタハッシュタグ数: {{ camera.hashtag_count }}</li>
                                {% endif %}
                                <li>参考価格: {{ camera.price }}円</li>
                                <li>種類: {{ camera.camera_type.cam_type }}</li>
                                <li>センサーサイズ: {{ camera.frame.frame_type }}</li>
                                <li>有効画素数: {{ camera.pixel }}万画素</li>
                                <li>WiFi転送: {% if camera.wifi %}○{% else %}×{% endif %}</li>
                                <li>自撮り: {% if camera.selfie %}○{% else %}×{% endif %}</li>
                                <li>発売日: {{ camera.open_date|date:"Y年m月d日" }}</li>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ranking-ec-links">
                    <div class="row" style="margin-bottom: 5px;">
                        <div class="col s12 m6">
                          <a href="{{ camera.amazon_link }}" class="ec-buttons" target="_blank">
                              <div class="card amber" id="amazon-button-card">
                                <div class="card-content white-text" id="amazon-button">
                                  <span class="card-title" id="amazon-button-title"><i class="fab fa-amazon"></i>Amazonで見る</span>
                                </div>
                              </div>
                          </a>
                        </div>
                    </div>
                    <div class="row" style="margin-top: 5px;">
                        <div class="col s12 m6">
                          <a href="{{ camera.rakuten_link }}" class="ec-buttons" target="_blank">
                              <div class="card deep-orange darken-2" id="rakuten-button-card">
                                <div class="card-content white-text" id="rakuten-button">
                                  <span class="card-title" id="amazon-button-title"><i class="fas fa-shopping-cart"></i>楽天で見る</span>
                                </div>
                              </div>
                          </a>
                        </div>
                    </div>
                </div>
                {% include "camera/spec_detail.html" %}
            {% endfor %}

                <div class="ec-ranking">
                    <h2 id="i11">Amazonや楽天の人気ランキングを見る</h2>
                    <h3>コンパクトデジタルカメラ</h3>
                    <a href="https://amzn.to/2CcAr7S" target="_blank">
                        <button class="btn">Amazonのコンデジ売れ筋ランキング</button>
                    </a>
                    <a href="https://hb.afl.rakuten.co.jp/hgc/15ef3d3e.100ef9c6.15ef3d3f.ad3906de/?pc=https%3A%2F%2Franking.rakuten.co.jp%2Fdaily%2F110110%2F&m=https%3A%2F%2Franking.rakuten.co.jp%2Fdaily%2F110110%2F" target="_blank" rel="nofollow noopener noreferrer" style="word-wrap:break-word;"  >
                        <button class="btn">楽天のコンデジ売れ筋ランキング</button>
                    </a>
                    <h3>ミラーレス一眼</h3>
                    <a href="https://amzn.to/2Cgb2dz" target="_blank">
                        <button class="btn">Amazonのミラーレス一眼売れ筋ランキング</button>
                    </a>
                    <a href="https://hb.afl.rakuten.co.jp/hgc/15ef3d3e.100ef9c6.15ef3d3f.ad3906de/?pc=https%3A%2F%2Franking.rakuten.co.jp%2Fdaily%2F564286%2F&m=https%3A%2F%2Franking.rakuten.co.jp%2Fdaily%2F564286%2F" target="_blank" rel="nofollow noopener noreferrer" style="word-wrap:break-word;"  >
                        <button class="btn">楽天のミラーレス一眼売れ筋ランキング</button>
                    </a>
                    <h3>一眼レフ</h3>
                    <a href="https://amzn.to/2Fq8cGi" target="_blank">
                        <button class="btn">Amazonの一眼レフ売れ筋ランキング</button>
                    </a>
                    <a href="https://hb.afl.rakuten.co.jp/hgc/15ef3d3e.100ef9c6.15ef3d3f.ad3906de/?pc=https%3A%2F%2Franking.rakuten.co.jp%2Fdaily%2F213289%2F&m=https%3A%2F%2Franking.rakuten.co.jp%2Fdaily%2F213289%2F" target="_blank" rel="nofollow noopener noreferrer" style="word-wrap:break-word;"  >
                        <button class="btn">楽天の一眼レフ売れ筋ランキング</button>
                    </a>
                </div>

                <div class="rank-customize">
                    <h2 id="i12">ランキングをカスタマイズする</h2>
                    {% include "camera/search_form.html" %}
                </div>
            </div>
          </section>
        </div>
    </div>
</div>
{% endblock %}
